# Copyright 2025 KU Leuven.
# Licensed under the Apache License, Version 2.0, see LICENSE for details.
# SPDX-License-Identifier: Apache-2.0
#
# Author: Giuseppe Sarda <giuseppe.sarda@esat.kuleuven.be>

package:
  name: lagd
  authors:
    - "Giuseppe Sarda <giuseppe.sarda@esat.kuleuven.be>"
    - "Jiacong Sun <jiacong.sun@esat.kuleuven.be>"

dependencies:
  axi: {git: "https://github.com/pulp-platform/axi.git", version: 0.39.8}
  cheshire: {git: "https://github.com/pulp-platform/cheshire.git", version: 0.3.1}
  register_interface: {git: "https://github.com/pulp-platform/register_interface.git",
                       version: 0.4.5}
  cluster_interconnect: {git: "https://github.com/pulp-platform/cluster_interconnect.git",
                         version: 1.3.0}
  hemaia_axi_spi_slave: {git: "https://github.com/KULeuven-MICAS/hemaia_axi_spi_slave.git",
                         rev: main}
  common_cells: {git: "https://github.com/pulp-platform/common_cells.git",
                 version: 1.38.0}

export_include_dirs:
  - hw/rtl/include
  - hw/rtl/memory_island/include

sources:
  - target: all(tech_cells_generic_exclude_tc_sram)
    files:
      - target/syn/tech/tsmc7ff/IPs/rtl/tc_sram.sv
  - files:
      - hw/rtl/memory_island/axi_to_mem_adapter.sv
      - hw/rtl/memory_island/mem_req_multicut.sv
      - hw/rtl/memory_island/mem_rsp_multicut.sv
      - hw/rtl/memory_island/mem_multicut.sv
      - hw/rtl/memory_island/tcdm_interconnect_wrap.sv
      - hw/rtl/memory_island/wide_narrow_arbiter.sv
      - hw/rtl/memory_island/wide_to_narrow_splitter.sv
      - hw/rtl/memory_island/memory_island_pkg.sv
      - hw/rtl/memory_island/memory_island_core.sv
      - hw/rtl/memory_island/memory_island_wrap.sv
      - hw/rtl/lagd_pkg.sv
      - hw/rtl/lagd_mem_cfg_pkg.sv
      - hw/rtl/lagd_soc.sv
      - hw/rtl/ising_core_wrap/ising_core_wrap.sv
      - hw/rtl/energy_monitor/energy_monitor.sv
      - hw/rtl/energy_monitor/vector_caching.sv
      - hw/rtl/energy_monitor/step_counter.sv
      - hw/rtl/energy_monitor/logic_ctrl.sv
      - hw/rtl/energy_monitor/partial_energy_calc.sv
      - hw/rtl/energy_monitor/adder_tree.sv
      - hw/rtl/energy_monitor/accumulator.sv
      - hw/rtl/lagd_axi_spi_slave.sv
      - hw/rtl/flip_manager/flip_manager.sv
      - hw/rtl/flip_manager/lagd_fifo_v3.sv
      - hw/rtl/flip_manager/energy_fifo_maintainer.sv
      - hw/rtl/flip_manager/spin_fifo_maintainer.sv
      - hw/rtl/flip_manager/flip_engine.sv
      - hw/rtl/digital_macro/digital_macro.sv
      - hw/rtl/analog_macro_wrap/analog_macro_wrap.sv
      - hw/rtl/analog_macro_wrap/analog_cfg.sv
      - hw/rtl/analog_macro_wrap/analog_rx.sv
      - hw/rtl/analog_macro_wrap/analog_tx.sv
      - hw/rtl/lib/bp_pipe.sv

#  - target: any(simulation, test)
#    files:
#      - hw/tb/lagd_tb.sv
#  - target: all(fpga, xilinx)
#    files:
#      - hw/rtl/lagd_fpga.sv
