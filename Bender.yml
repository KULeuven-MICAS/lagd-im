# Copyright 2025 KU Leuven.
# Licensed under the Apache License, Version 2.0, see LICENSE for details.
# SPDX-License-Identifier: Apache-2.0
#
# Author: Giuseppe Sarda <giuseppe.sarda@esat.kuleuven.be>

package:
  name: lagd
  authors:
    - "Giuseppe Sarda <giuseppe.sarda@esat.kuleuven.be>"
    - "Jiacong Sun <jiacong.sun@esat.kuleuven.be>"

frozen: true

# yamllint disable rule:line-length
dependencies:
  axi: {git: "https://github.com/pulp-platform/axi.git", version: 0.39.8}
  cheshire: {git: "https://github.com/pulp-platform/cheshire.git", version: 0.3.1}
  register_interface: {git: "https://github.com/pulp-platform/register_interface.git", version: 0.4.5}
  cluster_interconnect: {git: "https://github.com/pulp-platform/cluster_interconnect.git", version: 1.3.0}
  hemaia_axi_spi_slave: {git: "https://github.com/KULeuven-MICAS/hemaia_axi_spi_slave.git", rev: main}
  common_cells: {git: "https://github.com/pulp-platform/common_cells.git", version: 1.38.0}
  common_verification: {git: "https://github.com/pulp-platform/common_verification.git", version: 0.2.0}
# yamllint enable

export_include_dirs:
  - hw/rtl/include
  - hw/rtl/memory_island/include
  - target/syn/tech/tsmc7ff/include

sources:
  - files:
      - target/syn/tech/tsmc7ff/IPs/rtl/tc_sram.sv
    target: all(tech_cells_generic_exclude_tc_sram, synthesis)
  - files:
      - target/syn/tech/tsmc7ff/rtl/synchronizer.sv
      - target/syn/tech/tsmc7ff/rtl/chronos_pll_wrap.sv
      - target/syn/tech/tsmc7ff/rtl/lagd_clk_gen.sv
      - target/syn/tech/tsmc7ff/rtl/lagd_chip.sv
    target: all(synthesis)
  - files:
      - hw/rtl/memory_island/axi_to_mem_adapter.sv
      - hw/rtl/memory_island/mem_req_multicut.sv
      - hw/rtl/memory_island/mem_rsp_multicut.sv
      - hw/rtl/memory_island/mem_multicut.sv
      - hw/rtl/memory_island/tcdm_interconnect_wrap.sv
      - hw/rtl/memory_island/wide_narrow_arbiter.sv
      - hw/rtl/memory_island/wide_to_narrow_splitter.sv
      - hw/rtl/memory_island/memory_island_pkg.sv
      - hw/rtl/memory_island/memory_island_core.sv
      - hw/rtl/memory_island/memory_island_wrap.sv
      - hw/rtl/lagd_pkg.sv
      - hw/rtl/lagd_mem_cfg_pkg.sv
      - hw/rtl/lagd_soc.sv
      - hw/rtl/lagd_core_reg/lagd_core_reg_pkg.sv
      - hw/rtl/ising_core_wrap/ising_core_wrap.sv
      - hw/rtl/lagd_axi_spi_slave.sv
      - hw/rtl/digital_macro/digital_macro.sv
      - hw/rtl/digital_macro/mem_to_handshake_fifo.sv
      - hw/rtl/flip_filter/flip_filter.sv
      - hw/rtl/flip_filter/dgt_raddr_manager.sv
      - hw/rtl/flip_filter/customized_arbiter.sv
      - hw/rtl/energy_monitor/energy_monitor.sv
      - hw/rtl/energy_monitor/vector_caching.sv
      - hw/rtl/energy_monitor/step_counter.sv
      - hw/rtl/energy_monitor/logic_ctrl.sv
      - hw/rtl/energy_monitor/partial_energy_calc.sv
      - hw/rtl/energy_monitor/adder_tree.sv
      - hw/rtl/energy_monitor/accumulator.sv
      - hw/rtl/flip_manager/flip_manager.sv
      - hw/rtl/flip_manager/lagd_fifo_v3.sv
      - hw/rtl/flip_manager/energy_fifo_maintainer.sv
      - hw/rtl/flip_manager/spin_fifo_maintainer.sv
      - hw/rtl/flip_manager/flip_engine.sv
      - hw/rtl/analog_macro_wrap/analog_macro_wrap.sv
      - hw/rtl/analog_macro_wrap/analog_cfg.sv
      - hw/rtl/analog_macro_wrap/analog_rx.sv
      - hw/rtl/analog_macro_wrap/analog_tx.sv
      - hw/rtl/analog_macro_wrap/analog_dt_debug.sv
      - hw/rtl/analog_macro_wrap/analog_spin_debug.sv
      - hw/rtl/lib/bp_pipe.sv
      - hw/rtl/lagd_core_reg/lagd_core_reg_top.sv
  # yamllint disable rule:line-length
  - files:
      - target/syn/tech/tsmc7ff/IPs/rtl/tc_sram.sv
      - /users/micas/shares/project_lagd/SRAM/UHDSPSRAM/ts1n7uhdlvta2048x64m4zhocp_130b/VERILOG/ts1n7uhdlvta2048x64m4zhocp.v
      - /users/micas/shares/project_lagd/SRAM/UHDSPSRAM/ts1n7uhdlvta1024x64m2zhocp_130b/VERILOG/ts1n7uhdlvta1024x64m2zhocp.v
      - /users/micas/shares/project_lagd/SRAM/SPSBSRAM/ts1n7sblvta256x128m4zhocp_130b/VERILOG/ts1n7sblvta256x128m4zhocp.v
      - /users/micas/shares/project_lagd/SRAM/SPSBSRAM/ts1n7sblvta256x44m4zhocp_130b/VERILOG/ts1n7sblvta256x44m4zhocp.v
      - /users/micas/shares/project_lagd/SRAM/SPSBSRAM/ts1n7sblvta256x136m4zhocp_130b/VERILOG/ts1n7sblvta256x136m4zhocp.v
      - /users/micas/shares/project_lagd/SRAM/SPSBSRAM/ts1n7sblvta256x45m4zhocp_130b/VERILOG/ts1n7sblvta256x45m4zhocp.v
      - /users/micas/shares/project_lagd/SRAM/SPSBSRAM/ts1n7sblvta64x64m2zhocp_130b/VERILOG/ts1n7sblvta64x64m2zhocp.v
    target: all(test, tech_cells_generic_exclude_tc_sram)
  # yamllint enable rule:line-length

#  - target: any(simulation, test)
#    files:
#      - hw/tb/lagd_tb.sv
#  - target: all(fpga, xilinx)
#    files:
#      - hw/rtl/lagd_fpga.sv
